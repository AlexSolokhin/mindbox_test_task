# Тестовое задание на позицию Junior Data Engineer / MLOps в MindBox

Тестовое задание на позицию Junior Data Engineer / MLOps в MindBox
Для проверки задания необходимо:

1. Склонировать репозиторий
2. Перейти в директорию проекта

## Задание 1

Есть Pandas DataFrame со столбцами [“customer_id”, “product_id”, “timestamp”] , который содержит данные по просмотрам товаров на сайте. Есть проблема – просмотры одного customer_id не разбиты на сессии (появления на сайте). Мы хотим разместить сессии так, чтобы сессией считались все смежные просмотры, между которыми не более 3 минут.

Написать методом который создаст в Pandas DataFrame столбец session_id и проставит в нем уникальный int id для каждой сессии.

У каждого пользователя может быть по несколько сессий. Исходный DataFrame может быть большим – до 100 млн строк.

### Описание решения

Пакет crete_df.py содержит скрипт, создающий датафрейм, содержащий случайные данные. Содержит 3 позиционных аргумента:
- length: количество записей в датафрейме
- customers: количество уникальных пользователей
- timeframe: интервал времени в минутах, в течение которого были совершены визиты

Пакет get_session_id.py содержит функцию, подставляющую id сессий к переданному ей датафрейму

Пакет session_unittest.py содержит юнит-тесты для задания

### Порядок запуска

Выполнить следующие команды в терминале
- cd session_id
- python get_session_id.py

Скрипт создаст датафрейм и выведет его в консоль. После чего добавит session_id и выведет трансформированный датафрейм.
При желании можно изменить параметры создаваемого датафрейма, вручную скорректировав строку 75 в get_session_id.py

Для запуска тестов:
- python session_unittest.py

## Задание 2

В SQL базе данных есть продукты и категории. Одному продукту может соответствовать много категорий, в одной категории может быть много продуктов.

Напишите HTTP API через которое можно получить:

- список всех продуктов с их категориями,
- список категорий с продуктами,
- список всех пар «Имя продукта – Имя категории».

Если у продукта нет категорий, то он все равно должен выводиться. Если у категории нет продуктов, то она все равно должна выводиться.

### Описание решения

Для решения задачи был использован Django Rest Framework.
Список продуктов и категорий реализованы в ListApiView.
Для таблицы отношений был реализован ApiView с методом get.
Так как в задании речь шла только о получении данных для всех пунктов актуален только метод get.

Также реализована документация к API с помощью drf_yasg

### Порядок запуска

Для запуска сервера необходимо:
- Убедиться, что открыта корневая директория проекта
- Ввести команду docker compose up
- Дождаться создания и запуска контейнера

API станет доступен по следующим url:
- http://127.0.0.1:8000/api/goods - список товаров
- http://127.0.0.1:8000/api/categories - список категорий
- http://127.0.0.1:8000/api/relations - список отношений (пары товар - категория)
- http://127.0.0.1:8000/docs - документация